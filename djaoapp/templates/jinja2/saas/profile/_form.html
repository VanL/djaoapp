{% extends "_form.html" %}

{% block form_fields_block %}
{% if form['username'] %}
{{ input_field(form['username'], form.hide_labels) }}
{% endif %}
{% if form['slug'] %}
{{ input_field(form['slug'], form.hide_labels) }}
{% endif %}
{% if form['full_name'] %}
{{ input_field(form['full_name'], form.hide_labels) }}
{% endif %}
{% if form['nick_name'] %}
{{ input_field(form['nick_name'], form.hide_labels) }}
{% endif %}

{% if form['email'] %}
{{ email_input_field(form['email'], email_verified_at, form.hide_labels) }}
{% endif %}
{% if form['phone'] %}
{{ phone_input_field(form['phone'], phone_verified_at, form.hide_labels) }}
{% endif %}

{% if form['street_address'] %}
    <label class="col-form-label requiredField">Street address</label>
    <address-typeahead inline-template ref="typeahead">
        <div>
        <div class="input-group mb-3">
            <!-- optional indicators -->
            <span class="input-group-text">
            <i class="fa fa-spinner fa-spin" v-if="loading"></i>
            <template v-else>
                <i class="fa fa-search" v-show="isEmpty"></i>
                <i class="fa fa-times" v-show="isDirty" @click="reset"></i>
            </template>
            </span>
            <!-- the input field -->
            <input class="form-control"
                    type="text"
                    name="street_address"
                    placeholder="{% trans %}Street address{% endtrans %}"
                    autocomplete="off"
                    v-model="query"
                    value="{{ form['street_address'].value() }}"
                    @keydown.down="down"
                    @keydown.up="up"
                    @keydown.enter.prevent="hit"
                    @blur="clear"
                    @input="update" />
            <!-- the list -->
            {# Implementation note: If we use `d-block` instead of    #}
            {# `style="display: block;"` the dropdown shows even when #}
            {# `hasItems` is `False`.                                 #}
            <ul class="dropdown-menu nav-pills p-1 top-100"
                style="display: block;"
                v-show="hasItems">
            <li v-for="(item, $item) in items" class="nav-item"
                @mousedown="hit"
                @mousemove="setActive($item)">
                <a :class="'nav-link px-3 py-2' + activeClass($item)" v-text="item.description"></a>
            </li>
            </ul>
        </div>
        </div>
    </address-typeahead>
{% endif %}

{% if form['country'] %}
{{ input_field(form['country'], form.hide_labels) }}
{% endif %}
{% if form['region'] %}
{{ input_field(form['region'], form.hide_labels) }}
{% endif %}
{% if form['locality'] %}
{{ input_field(form['locality'], form.hide_labels) }}
{% endif %}
{% if form['postal_code'] %}
{{ input_field(form['postal_code'], form.hide_labels) }}
{% endif %}

{% if form['lang'] %}
{{ input_field(form['lang'], form.hide_labels) }}
{% endif %}

{% if form['is_bulk_buyer'] %}
{{ input_field(form['is_bulk_buyer'], form.hide_labels) }}
{% endif %}
{% if form['is_provider'] %}
{{ input_field(form['is_provider'], form.hide_labels) }}
{% endif %}
{% if form['extra'] %}
{{ input_field(form['extra'], form.hide_labels) }}
{% endif %}

{% endblock %}
